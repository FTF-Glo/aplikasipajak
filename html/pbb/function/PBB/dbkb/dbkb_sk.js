function printToPrinter() {    
    var params = {app:$('#appID').val()};
	console.log("print...");
	$.ajax({
		url: 'function/PBB/dbkb/print/svc-print.php',
		data: params,
		type: 'post',
		success: printSuccess
	}); 
}

function printSuccess(msg){
	var res=Ext.decode(Base64.decode(msg));
	
	if(res.code == '00'){
		var applet = document.jZebra;
		if (applet != null) {
			//res.data = "G0AbUBsZARtDLRtsABtRAA0KDQoNCht4ABtrABtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjAxNCAbeAAbawAbRhs1G00gUEVSS09UQUFOIA0KG3gAG2sAG0YbNRtNICAgICAxNi43MS4wMDkuMDc4LjAwMS0wMDAyLjAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgICAjMTIwNTE2MTEwMDU3MktBS1o1MDFBUzAxIw0KDQobeAAbawAbRhs1G01MUiBTSUxJV0FOR0kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G01LRUNJTCBCSU4gQVNZSUsgDQobeAAbawAbRhs1G01SVDogMDEwICBSVzogMDIgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G01MUiBTSUxJV0FOR0kgMzIxIA0KG3gAG2sAG0YbNRtNVGVzdCAxICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNUlQ6IDAxMSAgUlc6IDAwIA0KG3gAG2sAG0YbNRtNdGVzdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNNSBVTFUgDQobeAAbawAbRhs1G01QQUxFTUJBTkcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G01QQUxFTUJBTkcgDQoNCg0KDQobeAAbawAbRhs1G01CVU1JICAgICAgICAgICAbeAAbawAbRhs1G00gICAgICAgMTEwICAgICAgG3gAG2sAG0YbNRtNMDgyICAgICAgICAgICAbeAAbawAbRhs1G00gICAgIDQ4LjAwMCAgICAgG3gAG2sAG0YbNRtNICAgICAgICA1LjI4MC4wMDAgICAgICAgIA0KG3gAG2sAG0YbNRtNQkFOR1VOQU4gICAgICAgG3gAG2sAG0YbNRtNICAgICAgIDExMCAgICAgIBt4ABtrABtGGzUbTTAzMSAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgIDIyNS4wMDAgICAgIBt4ABtrABtGGzUbTSAgICAgICAyNC43NTAuMDAwIA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgDQobeAAbawAbRhs1G00gICAgICAgICAgICAgICAbeAAbawAbRhs1G00gICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAbeAAbawAbRhs1G00gICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICANCht4ABtrABtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgIDMwLjAzMC4wMDAgDQobeAAbawAbRhs1G00gICAgICAgICAgICAgICAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgICAgICAxMC4wMDAuMDAwIA0KDQobeAAbawAbRhs1G00gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgICAgICAyMC4wMzAuMDAwIA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G00gIDAuMTI1ICUgeCAyMC4wMzAuMDAwICAgICAgICAbeAAbawAbRhs1G00gICAgICAgICAgIDI1LjAzOA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G00gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawAbRhs1G00gDQoNCht4ABtrABtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAyNS4wMzgNCht4ABtrABtGGzUbTURVQSBQVUxVSCBMSU1BIFJJQlUgVElHQSBQVUxVSCBERUxBUEFODQobeAAbawAbRhs1G00gICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAzMCBTRVAgMjAxNCAgICAgICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNICAgICAgICAgICAgIDAxIEFQUiAyMDE0IA0KDQoNCht4ABtrABtGGzUbTUJBTksgU1VNU0VMQkFCRUwsQkFOSyBCVE4sQkFOSyBCUkkgICAgICAgICAgICAgICAgDQobeAAbawAbRhs1G01CQU5LIEJTTSBQQU5HS0FMIFBJTkFORyAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSQS4gSEouIFNVTUFJWUFILiBNWiwgTU0NCht4ABtrABtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTk1NTA5MjIxOTc5MDMyMDAzICAgDQoNCg0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNS0VDSUwgQklOIEFTWUlLICAgICANCht4ABtrABtGGzUbTSAgICAgICAgICAgICAgIBt4ABtrABtGGzUbTSAgICAgICAgICB0ZXN0ICAgICAgDQobeAAbawAbRhs1G00gICAgICAgICAgICAgICAbeAAbawAbRhs1G00gICAgICAgICAgVGVzdCAxICAgIA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNMTYuNzEuMDA5LjA3OC4wMDEtMDAwMi4wIA0KG3gAG2sAG0YbNRtNICAgICAgICAgICAgICAgG3gAG2sAG0YbNRtNMjAxNCAvIDI1LjAzOCAgICAgICANCgwNG0A";
			//res.data = "G0AbUBsZARtDLRtsABtRABt4ABtrAhtGGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIQUxBTUFOIDogI0hBTEFNQU4jIGRhcmkgI0hBTEFNQU5fSlVNTEFIIw0KG3gAG2sCG0UbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBRlRBUiBISU1QVU5BTiBLRVRFVEFQQU4gUEFKQUsgREFOIFBFTUJBWUFSQU4gQlVLVSAjYnVrdSMNCht4ABtrAhtFGzUbTSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVEFIVU4gI1RBSFVOIyANCg0KG3gAG2sCG0YbNRtNVEVNUEFUIFBFTUJBWUFSQU4gICAgIBt4ABtrAhtGGzUbTTogG3gAG2sCG0YbNRtNQkFOSyBTVU1TRUxCQUJFTCwgQlJJLCBCVE4sIFNZQVJJQUggTUFORElSSSBDQUIuUEsuUElOQU5HICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQobeAAbawIbRhs1G01QUk9QSU5TSSAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNOiAbeAAbawIbRhs1G00gI1BST1ZJTlNJX0tPREUjIC0gI1BST1ZJTlNJIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawIbRhs1G01LRUNBTUFUQU4gICAgICAbeAAbawIbRhs1G006IBt4ABtrAhtGGzUbTSAjS0VDQU1BVEFOX0tPREUjIC0gI0tFQ0FNQVRBTiMNCht4ABtrAhtGGzUbTUtBQlVQQVRFTiAgICAgICAgICAgICAbeAAbawIbRhs1G006IBt4ABtrAhtGGzUbTSAjS09UQV9LQUJfS09ERSMgLSAgI0tPVEFfS0FCIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBt4ABtrAhtGGzUbTUtFTFVSQUhBTiAgICAgIBt4ABtrAhtGGzUbTTogG3gAG2sCG0YbNRtNICNLRUxVUkFIQU5fS09ERSMgLSAjS0VMVVJBSEFOIw0KG3gAG2sCG0YbNRtNPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KG3gAG2sCG0YbNRtNfBt4ABtrAhtGGzUbTSBOTyAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgIE5PUCAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G01OT01PUiBJTkRVSxt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICBOQU1BIFdBSklCIFBBSkFLICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgIEFMQU1BVCBPQkpFSyBQQUpBSyAgICAgICAbeAAbawIbRhs1G018IBt4ABtrAhtGGzUbTSAgIFBBSkFLIFRFUlVUQU5HICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNIFBFUlVCQUhBTiBQQUpBSyAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNVEdMIEJBWUFSICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNfBt4ABtrAhtGGzUbTSAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgIEFMQU1BVCBXQUpJQiBQQUpBSyAgICAgICAbeAAbawIbRhs1G018IBt4ABtrAhtGGzUbTSAgICAgICAgICAgICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KG3gAG2sCG0YbNRtNfBt4ABtrAhtGGzUbTSNOTyMgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNI05PUCMgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00jTk9NT1JfSU5EVUsjG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00jTkFNQV9XQUpJQl9QQUpBSyMgICAgICAgICAgICAbeAAbawIbRhs1G018IBt4ABtrAhtGGzUbTSNBTEFNQVRfT0JKRUtfUEFKQUsjICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAjUEFKQUtfVEVSVVRBTkcjG3gAG2sCG0YbNRtNfCAgICAgICAgICAgICAgICAgICAbeAAbawIbRhs1G00jUEVSVUJBSEFOX1BBSkFLIxt4ABtrAhtGGzUbTXwgICAgG3gAG2sCG0YbNRtNI1RHTF9CQVlBUiMgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNfBt4ABtrAhtGGzUbTSAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00jQUxBTUFUX1dBSklCX1BBSkFLIyAgICAgICAgICAbeAAbawIbRhs1G018IBt4ABtrAhtGGzUbTSAgICAgICAgICAgICAgICAgICAgIBt4ABtrAhtGGzUbTXwgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNIBt4ABtrAhtGGzUbTXwgICAgG3gAG2sCG0YbNRtNICAgICAgICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNfBt4ABtrAhtGGzUbTSAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgICAgICAgIBt4ABtrAhtGGzUbTXwgG3gAG2sCG0YbNRtNICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfCAbeAAbawIbRhs1G00gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawIbRhs1G018IBt4ABtrAhtGGzUbTSAgICAgICAgICAgICAgICAgICAgIBt4ABtrAhtGGzUbTXwgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNIBt4ABtrAhtGGzUbTXwgICAgG3gAG2sCG0YbNRtNICAgICAgICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KG3gAG2sCG0YbNRtNfCBUT1RBTCBIQUxBTUFOIElOSSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawIbRhs1G018ICAgG3gAG2sCG0YbNRtNICAgICNUT1RBTF9IQUxfSU5JIxt4ABtrAhtGGzUbTXwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNfCBUT1RBTCBTQU1QQUkgREVOR0FOIEhBTEFNQU4gSU5JICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbeAAbawIbRhs1G018ICAgG3gAG2sCG0YbNRtNICNUT1RBTF9TQU1QQUlfSU5JIxt4ABtrAhtGGzUbTXwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgG3gAG2sCG0YbNRtNfA0KG3gAG2sCG0YbNRtNPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDA0bQA";
			console.log(res.data)
			applet.append64(res.data);
			applet.print();
			while (!applet.isDonePrinting()) {
				console.log('printing..')
			}
			var e = applet.getException();
			return e == null ? true : false;
		}else {
			alert('Applet not loaded!');
			return false;
		}
    }else{
		alert('Respon error!');
	}
}

